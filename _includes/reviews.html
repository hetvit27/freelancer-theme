<section>
<style>
  .container {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    height: 100vh;
  }

  .form-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    background-color: #f7f3f7;
    padding: 20px;
    border-radius: 10px;
    margin-top: 20px;
  }

  .pink-box {
    background-color: pink;
    padding: 20px;
    border-radius: 10px;
    margin-top: 20px;
  }
</style>

<div class="container">
  <section>
    <br>
    <br>
    <br>
    <br>
    <input id="search" placeholder="Search" style="font-family: Arial, sans-serif; font-size: 16px;">
    <button onclick="search()" style="font-family: Arial, sans-serif; font-size: 16px;">Search</button>
    <br>
    <br>
    <input id="reviewername" placeholder="Reviewer Name" style="font-family: Arial, sans-serif; font-size: 16px;">
    <input id="age" placeholder="Age" style="font-family: Arial, sans-serif; font-size: 16px;">
    <input id="reviewtext" placeholder="Review" style="font-family: Arial, sans-serif; font-size: 16px;">
    <input id="contact" placeholder="Contact" style="font-family: Arial, sans-serif; font-size: 16px;">
    <button onclick="addReview()" style="font-family: Arial, sans-serif; font-size: 16px; background-color: transparent; border: none; cursor: pointer;">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="red" class="bi bi-heart" viewBox="0 0 16 16">
        <path d="M8 14.567c-4.136-3.096-6-5.24-6-8.154C2 3.176 4.096 1 7.372 1 9.34 1 11.5 2.403 12.315 4.141c.023.045.049.088.075.131h0c.026-.043.052-.086.075-.131C13.5 2.403 15.66 1 17.628 1 20.904 1 23 3.176 23 6.413c0 2.914-1.864 5.058-6 8.154h0a.5.5 0 0 1-.628 0zM7.372 3.279c-1.922-1.792-4.08-1.799-6.003 0C-1.62 4.001-1.705 5.675 1.692 8.02h0c1.56 1.342 4.12 3.318 5.68 4.72h0c1.56-1.402 4.12-3.378 5.68-4.72h0C17.706 5.675 17.62 4.001 15.372 3.279h0C13.876 2.585 10.787 1 7.372 1h0c-3.415 0-6.503 1.585-7.003 2.279h0z"/>
      </svg>
    </button>
    <br>
    <br>
    <div id="reviewContainer"></div>
  </section>
  <div id="reviewBox" class="pink-box" style="display: none;"></div>
</div>

<script>
  Review();
  function Review() {
    const options = {
      method: 'GET',
      cache: 'default',
      headers: {
        'Content-Type': 'application/json'
      },
    };
    const url = "https://dating.dontntntnt.de/api/review/";
    fetch(url, options)
      .then(res => res.json())
      .then(data => {
        console.log(data);
        console.log(typeof data);
        console.log(JSON.stringify(data));
        for (let i = 0; i < data.length; i++) {
          addReview(data[i].reviewername, data[i].age, data[i].reviewtext, data[i].contact);
        }
      });
  }
  function addReview() {
    const postOptions = {
      method: 'POST',
      cache: 'default',
      headers: {
        'Content-Type': 'application/json'
      },
    };
    var url = "https://dating.dontntntnt.de/api/review/add";
    url += "?name=" + document.getElementById("reviewername").value;
    url += "&Age=" + document.getElementById("age").value;
    url += "&Review=" + document.getElementById("reviewtext").value;
    url += "&Contact=" + document.getElementById("contact").value;
    fetch(url, postOptions)
      .then(response => {
        if (response.status !== 200) {
          error("PUT API response failure: " + response.status);
          return;
        }
        response.json().then(data => {
          console.log(data);
          showReview(data);
        });
      })
      .catch(err => {
        console.log(err + " ");
      });
  }

  function showReview(review) {
    const reviewBox = document.getElementById("reviewBox");
    reviewBox.style.display = "block";
    reviewBox.innerHTML = `
      <p><strong>Reviewer Name:</strong> ${review.reviewername}</p>
      <p><strong>Age:</strong> ${review.age}</p>
      <p><strong>Review:</strong> ${review.reviewtext}</p>
      <p><strong>Contact:</strong> ${review.contact}</p>
    `;
  }
</script>
</section>